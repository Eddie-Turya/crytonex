(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4018],{23231:function(e,t,n){"use strict";var r,o=n(52846);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:8,height:8,fill:"none"},e),r||(r=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 1.818 2.636 6.182 1 4.545"})))}},38969:function(e,t,n){"use strict";var r,o=n(52846);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r||(r=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16M7 4a1 1 0 0 1 2 0v4a1 1 0 1 1-2 0zm.987 7a1 1 0 1 1 0 2h-.014a1 1 0 1 1 0-2z",clipRule:"evenodd"})))}},38140:function(e,t,n){"use strict";n.r(t),n.d(t,{UTMParametersParser:function(){return l},utmTags:function(){return i}});var r=n(47907),o=n(64090),a=n(98955);let i=["utm_source","utm_content","utm_medium","utm_campaign","utm_term","ref","cpa","user_id","click_id"],l=()=>{let e=(0,r.useSearchParams)();return(0,o.useEffect)(()=>{i.forEach(t=>{e.has(t)?a.default.set(t,e.get(t)||"",{expires:7,domain:"cryptomus.com"}):"undefined"===a.default.get(t)&&a.default.remove(t,{domain:"cryptomus.com"})})},[]),null}},84018:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(3827),o=n(30982),a=n(64090),i=n(30298),l=n(34314),u=n(43469),s=n.n(u),c=n(52809),p=n(35362),d=n(45830),_=n(20568),m=n(90905),h=n(98955);let v={email:"Confirm email code",google2fa:"Confirm Two-Factor Authentication",phone:"Confirm phone number",current_email:"Confirm current email",new_email:"Confirm new email",new_phone:"Confirm new phone",current_phone:"Confirm current phone"},f={email:"Email",google2fa:"Two-Factor Authentication",phone:"Phone number",current_email:"Email",new_email:"Email",new_phone:"Phone number",current_phone:"Phone number"},y=e=>g(e.map(e=>({[e.type]:6e4}))),g=e=>e.reduce((e,t)=>({...e,...t}),{}),b=e=>g(Object.entries(e).map(e=>({[e[0]]:e[1]>0?e[1]-1e3:e[1]})));var x=n(38140),w=n(75504),C=n(56401),j=e=>{let{placeholder:t,confirmUrl:n,payloads:u,showTitle:g=!0,showLabels:j=!0,customTitle:Z,showTrustedDevice:k=!1,focus:O=!1,onInputChange:q,onSuccess:K,onError:I,setLoading:N,formCaption:E,submitBtnText:W,additionalData:F,additionalDataError:T="",isSignUp:P=!1,ref_code:A="",className:L,inputClassName:R,btnProps:S,inputVariant:M="normal"}=e,z=(0,o.useTranslations)("common"),V=(0,o.useLocale)(),X=u.reduce((e,t)=>e={...e,[t.type]:""},{}),[Q,H]=(0,a.useState)(X),[B,D]=(0,a.useState)(X),[J,U]=(0,a.useState)(!1),G=k?{trust_device:J}:{},[Y,$]=(0,a.useState)(y(u)),[ee,et]=(0,a.useState)(u),[en,er]=(0,a.useState)(!1),eo=e=>{var t;return null!==(t=z(v[e]))&&void 0!==t?t:""},ea=e=>{var t;return null!==(t=z(f[e]))&&void 0!==t?t:""},ei=e=>{ed(e)},el=e=>{U(e)},eu=(e,t)=>{t||D({...B,[e]:z("This is required field")})},es=(e,t)=>{H({...Q,[t]:e}),D(Object.prototype.hasOwnProperty.call(B,"message")?{[t]:""}:{...B,[t]:"",code:"",payload:""}),null==q||q()},{mutate:ec,isPending:ep}=(0,_.useMutation)({mutationKey:["confirmAction"],mutationFn:()=>{var e;let t=ee.length?ee:u,r=P?{type:u[0].type,payload:u[0].payload,code:null!==(e=null==Q?void 0:Q[u[0].type])&&void 0!==e?e:"",client_id:h.default.get("_ym_uid"),...Object.fromEntries(x.utmTags.map(e=>[e,h.default.get(e)])),ref:A}:{...F,...G,confirm:t.map(e=>{var t;return{type:e.type,payload:e.payload,code:null!==(t=null==Q?void 0:Q[e.type])&&void 0!==t?t:""}})};return m.e.confirmCheckCode({url:n,data:r})},onSuccess:e=>{K(e),er(!0)},onError:e=>{var t,n,r,o,a,i;I&&(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)&&I(null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data);let l=Object.prototype.hasOwnProperty.call(null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data,"errors")?null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.errors:null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.data;l&&D(l)}}),{mutate:ed,isPending:e_}=(0,_.useMutation)({mutationKey:[m.e.resendCode.queryKey],mutationFn:async e=>({data:await m.e.resendCode({payload:null==e?void 0:e.payload}),fieldType:e.type}),onSuccess:e=>{let{data:t,fieldType:n}=e;$({...Y,[n]:6e4}),"payload"in t&&et(ee.map(e=>e.type===n?{type:e.type,name:e.name,payload:(null==t?void 0:t.payload)||""}:e))},onError:e=>{var t;i.toast.error(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data.errors.payload)}}),em=()=>$(e=>b(e));return(0,a.useEffect)(()=>{if(null==u?void 0:u.some(e=>e.resend)){let e=setInterval(em,1e3);return()=>clearInterval(e)}},[u]),(0,a.useEffect)(()=>{N&&(ep||e_?N(!0):N(!1))},[ep,e_,N]),(0,r.jsxs)("form",{id:"confirmCode",className:(0,w.Z)(s().form,L),children:[g&&(0,r.jsx)(l.Z,{as:"h3",variant:"h5",children:null!=Z?Z:z("Confirmation")}),(0,r.jsxs)("div",{className:s().form__container,children:[E,null==u?void 0:u.map((e,n)=>{var o,a,i,u,d,_,m;return(0,r.jsxs)("div",{className:s().form__item,children:[(0,r.jsx)(c.Z,{className:R,variant:M,name:"code",inputMode:"numeric",autoComplete:"one-time-code",autoFocus:O&&0===n,onChange:t=>es(t.target.value,e.type),placeholder:null!=t?t:eo(e.type),label:j?ea(e.type):void 0,maxLength:64,onBlur:t=>eu(e.type,t.target.value),error:null!==(m=null!==(_=null!==(d=null!==(u=null===(o=B[null==e?void 0:e.type])||void 0===o?void 0:o.message)&&void 0!==u?u:B.message)&&void 0!==d?d:(null==e?void 0:e.type)==="google2fa"?null==B?void 0:null===(a=B.google2fa)||void 0===a?void 0:a.message:void 0)&&void 0!==_?_:null==B?void 0:null===(i=B.code)||void 0===i?void 0:i.message)&&void 0!==m?m:null==B?void 0:B.code,autofocus:!0},n),"email"===e.type&&(0,r.jsx)(l.Z,{as:"span",variant:"small_button",className:s().spam,fontWeight:400,children:z("checkSpam")}),"google2fa"!==e.type?Y[e.type]<=0?(0,r.jsx)("div",{role:"button",onClick:()=>{e_||ei(e)},className:s().form__btn,children:(0,r.jsx)(l.Z,{as:"span",variant:"small_button",children:z("Resend code")})},e.type):(0,r.jsxs)(l.Z,{as:"span",variant:"system_h5",fontWeight:400,className:s().form_counter,children:[z("Request code in")," ",(0,p.e)(Y[e.type],V,"s")]},e.type):null]},n)})]}),k&&(0,r.jsx)(d.X,{onChange:()=>el(!J),checked:J,label:z("This device is trusted"),rounded:!0}),(0,r.jsx)(C.z,{isLoading:ep||e_||en,appearance:"primary",size:"l",onClick:e=>{e.preventDefault(),ec()},disabled:!(!Object.values(Q).includes("")&&Object.values(B).includes("")&&!T),...S,children:null!=W?W:z("Confirm")})]})}},45830:function(e,t,n){"use strict";n.d(t,{X:function(){return _}});var r,o=n(3827),a=n(64090),i=n(22368),l=n.n(i),u=n(75504),s=n(23231),c=n(52846);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var d=function(e){return c.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:8,height:2,fill:"none"},e),r||(r=c.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 1H1"})))};let _=a.forwardRef((e,t)=>{let{label:n,indeterminate:r,labelPosition:i,fullWidth:c,className:p,rounded:_=!1,labelClassName:m,...h}=e,v=(0,a.useId)();return(0,o.jsxs)("div",{className:(0,u.Z)(l().custom_checkbox_wrapper,{[l().fullWidth]:c},p),children:[(0,o.jsx)("input",{ref:t,id:v,type:"checkbox",className:(0,u.Z)(l().custom_checkbox,{[l().indeterminate]:r,[l().leftLabel]:"left"===i,[l().fullWidth]:c}),readOnly:!0,role:"checkbox",...h}),(0,o.jsxs)("label",{className:(0,u.Z)(m,{[l().rounded]:_}),htmlFor:v,children:[(0,o.jsx)("div",{onKeyDown:e=>{"Enter"===e.key&&(null==h?void 0:h.onChange)&&h.onChange(!h.checked)},tabIndex:0,className:l().square,children:(0,o.jsx)("span",{className:l().icon,children:r?(0,o.jsx)(d,{}):(0,o.jsx)(s.Z,{})})}),n]})]})})},52809:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(3827),o=n(11348),a=n(4504),i=n(64090),l=n(75504),u=n(54826),s=n(34314);let c={error:{variant:"system_h5",fontWeight:400}},p={normal:{label:{variant:"system_h5",fontWeight:600},...c},compact:{label:{variant:"system_h5",fontWeight:600},...c}};var d=n(38969),_=n(6140),m=n.n(_);let h={initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,transition:{duration:.2,ease:"easeInOut"},height:"auto",marginTop:"8px"},exit:{opacity:0,y:-10,height:0,transition:{duration:.2},marginTop:"0px"}},v=(0,i.forwardRef)((e,t)=>{let{className:n,onChange:c,label:_,rightLabel:v,variant:y="normal",hintText:g,iconLeft:b,iconRight:x,error:w,disabled:C,tabIndex:j,blockRight:Z,autosize:k=!1,autosizeProps:O,trim:q=!1,decimal:K,labelTextClassName:I,autofocus:N,...E}=e,W=(0,i.useId)(),F=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,()=>({inputID:W,focus:()=>{var e;return null===(e=F.current)||void 0===e?void 0:e.focus()},blur:()=>{var e;return null===(e=F.current)||void 0===e?void 0:e.blur()}}),[W,F.current]),(0,i.useEffect)(()=>{var e;E.autoFocus&&(null===(e=F.current)||void 0===e||e.focus())},[E.autoFocus]);let T=e=>{if(q&&(e.target.value=e.target.value.replace(/\s+/g,"")),void 0!==K){let t=e.target.value;t=function(e,t){let n=new RegExp("^-?\\d+(?:\\.\\d{0,".concat(t,"})?")),r=e.match(n);return r?r[0]:e}(t,K),e.target.value=t}null==c||c(e)};return(0,r.jsxs)("div",{className:m().container,children:[(_||v)&&(0,r.jsxs)("div",{className:(0,l.Z)(m().label_container,{[m().disabled]:C}),children:[_&&(0,r.jsx)("label",{htmlFor:W,className:(0,l.Z)(m().input__label,m()["input__label_".concat(y)]),tabIndex:j,children:(0,r.jsx)(s.Z,{className:I,variant:p[y].label.variant,fontWeight:p[y].label.fontWeight,children:_})}),v&&(0,r.jsx)("label",{htmlFor:W,className:(0,l.Z)(m().input__label,m()["input__label_".concat(y)]),tabIndex:j,children:"string"==typeof v?(0,r.jsx)(s.Z,{variant:p[y].label.variant,fontWeight:p[y].label.fontWeight,children:v}):v})]}),(0,r.jsxs)("label",{className:(0,l.Z)(m().input__wrapper,m()["input__wrapper_".concat(y)],n,{[m().input__wrapper_error]:w,[m().input__wrapper_disabled]:C,[m().input__wrapper_autosize]:k}),tabIndex:j,htmlFor:W,children:[(0,r.jsxs)("div",{className:m().input__left,children:[b&&(0,r.jsx)(f,{icon:b}),k?(0,r.jsx)(u.Z,{inputClassName:(0,l.Z)(null==O?void 0:O.inputClassName,m().input),onChange:T,disabled:C,id:W,autoFocus:N,...E,...O}):(0,r.jsx)("input",{ref:F,onWheel:()=>{var e;"number"===E.type&&(null===(e=F.current)||void 0===e||e.blur())},className:m().input,onChange:T,disabled:C,id:W,autoFocus:N,...E,tabIndex:j})]}),x&&(0,r.jsx)(f,{icon:x}),Z&&Z]}),(0,r.jsxs)(o.M,{children:[g&&!w&&(0,r.jsx)(s.Z,{variant:"system_h5",fontWeight:400,className:(0,l.Z)(m().input__hint),children:g}),w&&(0,r.jsxs)(a.E.div,{className:(0,l.Z)(m().input__errorWrapper,m()["input__errorWrapper_".concat(y)]),initial:"initial",animate:"animate",exit:"exit",variants:h,children:[(0,r.jsx)(d.Z,{}),(0,r.jsx)(s.Z,{variant:p[y].error.variant,fontWeight:p[y].error.fontWeight,className:m().input__error,children:w})]})]})]})}),f=i.memo(e=>{let{icon:t}=e;return(0,r.jsx)("div",{className:m().input__icon,children:t})});var y=v},90905:function(e,t,n){"use strict";n.d(t,{e:function(){return j}});var r=n(19817);let o=e=>r.Z.post("v2/registration/email",{data:e,abortOn401:!1,showToastOnError:!1});o.queryKey="registrationEmail";let a=e=>r.Z.post("v2/registration/phone",{data:e,abortOn401:!1,showToastOnError:!1});a.queryKey="sigUpPhone";let i=e=>r.Z.post("v1/login/2fa",{data:e,abortOn401:!1,showToastOnError:!1});i.queryKey="logIn2FA";let l=e=>r.Z.post("v1/password-recovery/2fa",{data:e,abortOn401:!1});l.queryKey="passwordRecovery";let u=e=>r.Z.post("v1/password-recovery/change-password",{data:e,abortOn401:!1});u.queryKey="changePassword";let s=e=>r.Z.post("".concat(null==e?void 0:e.url),{data:null==e?void 0:e.data,abortOn401:!1});s.queryKey="confirmCheckCode";let c=e=>r.Z.post("v1/confirmation/re-send",{data:e,abortOn401:!1});c.queryKey="resendCode";let p=e=>r.Z.post("v1/login/telegram",{data:e,abortOn401:!1});p.queryKey="loginViaTelegram";let d=()=>r.Z.get("v1/ton-connect-v2/generate-payload",{abortOn401:!1});d.queryKey="loginViaTonKeeper";let _=e=>r.Z.post("v1/user/binding/ton-connect-v2",{data:e,abortOn401:!1});_.queryKey="loginViaTonKeeperBind";let m=e=>r.Z.post("v1/ton-connect-v2/auth",{data:e,abortOn401:!1});m.queryKey="loginViaTonKeeperConfirm";let h=e=>r.Z.post("v2/external-auth/oauth/login",{data:e,abortOn401:!1});h.queryKey="authViaSocial";let v=e=>r.Z.post("v2/external-auth/oauth/bind",{data:e,abortOn401:!1});v.queryKey="bindSocialAuth";let f=e=>r.Z.post("v2/external-auth/oauth/unbind",{data:{provider:e},abortOn401:!1});f.queryKey="unbindSocialAuth";let y=()=>r.Z.get("v1/qr-login/link",{abortOn401:!1});y.queryKey="getLoginQrLink";let g=e=>r.Z.post("v1/login/qr",{data:e,abortOn401:!1});g.queryKey="loginQR";let b=e=>r.Z.post("v1/qr-login/approve",{data:e,abortOn401:!1});b.queryKey="loginQRApprove";let x=e=>r.Z.post("v1/login/verify-token",{data:e,abortOn401:!1});x.queryKey="isAuth";let w=()=>r.Z.post("v1/countries/list",{abortOn401:!1});w.queryKey="getCountryList";let C=e=>r.Z.post("v1/telegram/webapp/auth",{data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"},abortOn401:!1});C.queryKey="telegramAppAuth";let j={telegramAppAuth:C,signUpEmail:o,sigUpPhone:a,confirmCheckCode:s,resendCode:c,logIn:i,recovery:l,changePassword:u,getIsAuth:x,loginViaTelegram:p,loginViaTonKeeper:d,loginViaTonKeeperBind:_,authViaSocial:h,getLoginQrLink:y,loginQRApprove:b,loginQR:g,loginViaTonKeeperConfirm:m,getCountryList:w,bindSocialAuth:v,unbindSocialAuth:f}},35362:function(e,t,n){"use strict";n.d(t,{e:function(){return a}});var r=n(91949),o=n.n(r);let a=(e,t,n)=>o()(e,{language:{zh:"zh_CN",pa:"hi",kk:"en",uz:"en"}[t]||t,round:!0,units:[n]})},43469:function(e){e.exports={form:"ConfirmCodeForm_form__QwZy6",form__container:"ConfirmCodeForm_form__container__Phw1F",form__item:"ConfirmCodeForm_form__item__Oo_wI",form__btn:"ConfirmCodeForm_form__btn__eaojA",form__counter:"ConfirmCodeForm_form__counter__RuKu7",spam:"ConfirmCodeForm_spam__bF6KG"}},22368:function(e){e.exports={custom_checkbox_wrapper:"Checkbox_custom_checkbox_wrapper__JyVqt",fullWidth:"Checkbox_fullWidth__9fiA4",custom_checkbox:"Checkbox_custom_checkbox__rwdA8",square:"Checkbox_square__e2UOt",icon:"Checkbox_icon__cqOQj",rounded:"Checkbox_rounded__PC1w0",indeterminate:"Checkbox_indeterminate__Vu9oZ",dark:"Checkbox_dark__hEYQW",leftLabel:"Checkbox_leftLabel__qt9MO"}},6140:function(e){e.exports={container:"Input_container__g_ihy",label_container:"Input_label_container__Ga8i5",disabled:"Input_disabled__Y3wC6",input:"Input_input__5WxBl",input__label:"Input_input__label__RhXok",input__wrapper:"Input_input__wrapper__EW6J_",input__wrapper_disabled:"Input_input__wrapper_disabled__PL1sX",input__wrapper_autosize:"Input_input__wrapper_autosize__XC24F",input__left:"Input_input__left__rH21Z",input__wrapper_normal:"Input_input__wrapper_normal__JLgiC",input__wrapper_compact:"Input_input__wrapper_compact__hhht1",input__wrapper_error:"Input_input__wrapper_error__dZvdh",input__icon:"Input_input__icon__MMX_7",input__hint:"Input_input__hint__ZDXe4",input__errorWrapper:"Input_input__errorWrapper__pRjKA",input__error:"Input_input__error__8HKbl"}}}]);